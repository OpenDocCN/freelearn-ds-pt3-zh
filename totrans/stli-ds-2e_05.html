<html><head></head><body>
  <div class="Basic-Text-Frame" id="_idContainer077">
    <h1 class="chapterNumber">5</h1>
    <h1 class="chapterTitle" id="_idParaDest-64">Deploying Streamlit with Streamlit Community Cloud</h1>
    <p class="normal">So far in this book, we have focused on Streamlit app development, from creating complex visualizations to deploying and creating <strong class="keyWord">Machine Learning</strong> (<strong class="keyWord">ML</strong>) models. In this chapter, we will learn how to deploy these applications so that they can be shared with anyone with internet access. This is a crucial part of Streamlit apps as, without the ability to deploy a Streamlit app, friction still exists for users or consumers of your work. If we believe that Streamlit removes the friction between creating data science analysis/products/models and sharing them with others, then we must also believe that the ability to widely share apps is just as crucial as the ease of development. </p>
    <p class="normal">There are three main ways to deploy Streamlit apps: through a product created by Streamlit called <em class="italic">Streamlit Community Cloud</em>, through a cloud provider such as <em class="italic">Amazon Web Services</em> or <em class="italic">Heroku</em>, or through <em class="italic">Hugging Face</em> via <em class="italic">Hugging Face Spaces</em>. Deploying on AWS and Heroku is paid, but <em class="italic">Streamlit Community Cloud</em> and <em class="italic">Hugging Face Spaces</em> are free! The easiest and preferred method for most Streamlit users is <em class="italic">Streamlit Community Cloud</em>, so we will cover that directly here, and will cover Heroku and Hugging Face Spaces later in this book, in <em class="chapterRef">Chapter 8</em>, <em class="italic">Deploying Streamlit Apps with Hugging Face and Heroku</em>, and <em class="chapterRef">Chapter 11</em>, <em class="italic">The Data Project – Prototyping Projects in Streamlit</em>.</p>
    <p class="normal">In this chapter, we will cover the following topics:</p>
    <ul>
      <li class="bulletList">Getting started with Streamlit Community Cloud</li>
      <li class="bulletList">A quick primer on GitHub</li>
      <li class="bulletList">Deploying with Streamlit Community Cloud</li>
    </ul>
    <h1 class="heading-1" id="_idParaDest-65">Technical requirements</h1>
    <p class="normal">This chapter requires access to Streamlit Community Cloud, which you can get access to by signing up for an account for free at <a href="https://share.streamlit.io/signup"><span class="url">https://share.streamlit.io/signup</span></a>. </p>
    <p class="normal">This chapter also requires a free GitHub account, which can be attained at <a href="https://www.github.com"><span class="url">https://www.github.com</span></a>. A full primer on GitHub, along with detailed setup instructions, can be found in the section <em class="italic">A quick primer on GitHub</em> later in this chapter.</p>
    <p class="normal">The code for this chapter can be found in the following GitHub repository: <a href="https://github.com/tylerjrichards/Streamlit-for-Data-Science"><span class="url">https://github.com/tylerjrichards/Streamlit-for-Data-Science</span></a>.</p>
    <h1 class="heading-1" id="_idParaDest-66">Getting started with Streamlit Community Cloud</h1>
    <p class="normal">Streamlit Community <a id="_idIndexMarker202"/>Cloud is Streamlit’s answer to a fast deployment process and is certainly my first recommendation to deploy your Streamlit applications. When I discovered Streamlit in the summer of 2020, I remember deploying an app locally and loving the library, but then quickly being disappointed in having to use AWS to deploy my app. Then, the Streamlit team reached out to me and asked if I wanted to try out a product they were working on, which is now called Streamlit Community Cloud. I thought that there was no way that it was all that simple. We only need to push our code to a GitHub repository and point Streamlit to the said repository, and it takes care of the rest. </p>
    <p class="normal">There are times when we care about “the rest,” such as when we want to configure the amount of storage space or memory available, but often, letting Streamlit Community Cloud handle deployment, resourcing, and sharing makes our development significantly easier.</p>
    <p class="normal">The goal here is to take the Palmer Penguins ML app that we have already created and deploy it using Streamlit Community Cloud. Before we get started, Streamlit Community Cloud runs using GitHub. If you are already familiar with Git and GitHub, feel free to skip this section, make a GitHub repository with our <code class="inlineCode">penguins_ml</code> folder, and head over to the section titled <em class="italic">Deploying with Streamlit Community Cloud</em>. </p>
    <h1 class="heading-1" id="_idParaDest-67">A quick primer on GitHub</h1>
    <p class="normal">GitHub and the <a id="_idIndexMarker203"/>language Git are collaboration tools for software engineers and data scientists that provide a framework for version control. We do not need to know everything about how they work to use Streamlit Community Cloud, but we need to be able to create our own repositories (which act like shared folders) and update them as we update our applications. There are two options for dealing with Git and GitHub: via the command line and via a product called GitHub Desktop. </p>
    <p class="normal">Primarily in this book, so far, we have stayed on the command line, and this tutorial will stay there. However, if you would like to use GitHub Desktop instead, head over to <a href="https://desktop.github.com"><span class="url">https://desktop.github.com</span></a> and follow along with the instructions provided there. </p>
    <p class="normal">Now, use the following steps to get started with Git and GitHub on the command line:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">First, go to <a href="https://www.github.com"><span class="url">https://www.github.com</span></a> and make a free account there.</li>
      <li class="numberedList">Then, we need to download the Git language onto our own computer and connect to our GitHub account with Git. We can do this on a Mac using <code class="inlineCode">brew</code> in our terminal:
        <pre class="programlisting con"><code class="hljs-con">brew install git
</code></pre>
      </li>
      <li class="numberedList">We are also going to want to set a global username and email in Git (if we haven’t already), which is recommended by GitHub. The following code sets these globally:
        <pre class="programlisting con"><code class="hljs-con">git config --global user.name "My Name"
git config --global user.email myemail@email.com
</code></pre>
      </li>
    </ol>
    <p class="normal">Now that we have our GitHub account, and we also have Git installed locally, we need to create our first repository! We already have our folder with the files that we need inside it, called <code class="inlineCode">penguin_ml</code>, so we should make sure that is the working directory that we are working in (if you aren’t sure, the <code class="inlineCode">pwd</code> command will return our working directory). We are going to work with the final version of the <code class="inlineCode">penguins_streamlit.py</code> app, which is shown with brief explanations for some context in the following code: </p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> streamlit <span class="hljs-keyword">as</span> st
<span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> pickle
st.title(<span class="hljs-string">'Penguin Classifier'</span>)
st.write(<span class="hljs-string">"This app uses 6 inputs to predict the species of penguin using "</span>
         <span class="hljs-string">"a model built on the Palmer Penguins dataset. Use the form below"</span>
         <span class="hljs-string">" to get started!"</span>)
penguin_df = pd.read_csv(<span class="hljs-string">'penguins.csv'</span>)
rf_pickle = <span class="hljs-built_in">open</span>(<span class="hljs-string">'random_forest_penguin.pickle'</span>, <span class="hljs-string">'rb'</span>)
map_pickle = <span class="hljs-built_in">open</span>(<span class="hljs-string">'output_penguin.pickle'</span>, <span class="hljs-string">'rb'</span>)
rfc = pickle.load(rf_pickle)
unique_penguin_mapping = pickle.load(map_pickle)
rf_pickle.close()
map_pickle.close()
</code></pre>
    <p class="normal">This first section imports our libraries, sets up the titles for our app, and loads the model that we created using the <code class="inlineCode">penguins_ml.py</code> file. This section will fail if we do not have the <code class="inlineCode">random_forest_penguin.pickle</code> and <code class="inlineCode">output_penguin.pickle</code> files. You can either go to <em class="chapterRef">Chapter 4</em>, <em class="italic">Machine Learning and AI with Streamlit</em>, to create these files or head over to <a href="https://github.com/tylerjrichards/Streamlit-for-Data-Science/tree/main/penguin_ml"><span class="url">https://github.com/tylerjrichards/Streamlit-for-Data-Science/tree/main/penguin_ml</span></a> to <a id="_idIndexMarker204"/>find them directly:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">with</span> st.form(<span class="hljs-string">"user_inputs"</span>):
    island = st.selectbox(
        <span class="hljs-string">"Penguin Island"</span>, 
        options=[<span class="hljs-string">"Biscoe"</span>, <span class="hljs-string">"Dream"</span>, <span class="hljs-string">"Torgerson"</span>])
    sex = st.selectbox(
        <span class="hljs-string">"Sex"</span>, options=[<span class="hljs-string">"Female"</span>, <span class="hljs-string">"Male"</span>])
    bill_length = st.number_input(
        <span class="hljs-string">"Bill Length (mm)"</span>, min_value=<span class="hljs-number">0</span>)
    bill_depth = st.number_input(
        <span class="hljs-string">"Bill Depth (mm)"</span>, min_value=<span class="hljs-number">0</span>)
    flipper_length = st.number_input(
        <span class="hljs-string">"Flipper Length (mm)"</span>, min_value=<span class="hljs-number">0</span>)
    body_mass = st.number_input(
        <span class="hljs-string">"Body Mass (g)"</span>, min_value=<span class="hljs-number">0</span>)
    st.form_submit_button()
island_biscoe, island_dream, island_torgerson = <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>
<span class="hljs-keyword">if</span> island == <span class="hljs-string">'Biscoe'</span>:
    island_biscoe = <span class="hljs-number">1</span>
<span class="hljs-keyword">elif</span> island == <span class="hljs-string">'Dream'</span>:
    island_dream = <span class="hljs-number">1</span>
<span class="hljs-keyword">elif</span> island == <span class="hljs-string">'Torgerson'</span>:
    island_torgerson = <span class="hljs-number">1</span>
sex_female, sex_male = <span class="hljs-number">0</span>, <span class="hljs-number">0</span>
<span class="hljs-keyword">if</span> sex == <span class="hljs-string">'Female'</span>:
    sex_female = <span class="hljs-number">1</span>
<span class="hljs-keyword">elif</span> sex == <span class="hljs-string">'Male'</span>:
    sex_male = <span class="hljs-number">1</span>
new_prediction = rfc.predict(
    [
        [
            bill_length,
            bill_depth,
            flipper_length,
            body_mass,
            island_biscoe,
            island_dream,
            island_torgerson,
            sex_female,
            sex_male,
        ]
    ]
)
prediction_species = unique_penguin_mapping[new_prediction][<span class="hljs-number">0</span>]
st.write(<span class="hljs-string">f"We predict your penguin is of the </span><span class="hljs-subst">{prediction_species}</span><span class="hljs-string"> species"</span>)
</code></pre>
    <p class="normal">This next section grabs all the user input we need for our prediction, from the island the researcher is on to the sex of the penguin, as well as the penguin’s bill and flipper measurements, which<a id="_idIndexMarker205"/> prepares us for the prediction of penguin species in the following code:</p>
    <pre class="programlisting code"><code class="hljs-code">st.subheader(<span class="hljs-string">"Predicting Your Penguin's Species:"</span>)
st.write(<span class="hljs-string">f"We predict your penguin is of the </span><span class="hljs-subst">{prediction_species}</span><span class="hljs-string"> species"</span>)
st.write(
    <span class="hljs-string">"""We used a machine learning </span>
<span class="hljs-string">    (Random Forest) model to predict the </span>
<span class="hljs-string">    species, the features used in this </span>
<span class="hljs-string">    prediction are ranked by relative </span>
<span class="hljs-string">    importance below."""</span>
)
st.image(<span class="hljs-string">"feature_importance.png"</span>)
</code></pre>
    <p class="normal">And now, this final section creates multiple histograms to explain the predictions made by the model. In particular, these plots show the bill length/bill depth/flipper length separated by the species’ hue. We use these three variables because our feature importance graph told us that those were the best predictors of species in <em class="chapterRef">Chapter 4</em>, <em class="italic">Machine Learning and AI with Streamlit</em>:</p>
    <pre class="programlisting code"><code class="hljs-code">st.write(
    <span class="hljs-string">"""Below are the histograms for each</span>
<span class="hljs-string">continuous variable separated by penguin species.</span>
<span class="hljs-string">The vertical line represents the inputted value."""</span>
)
 
fig, ax = plt.subplots()
ax = sns.displot(
    x=penguin_df[<span class="hljs-string">"</span><span class="hljs-string">bill_length_mm"</span>], 
    hue=penguin_df[<span class="hljs-string">"species"</span>])
plt.axvline(bill_length)
plt.title(<span class="hljs-string">"Bill Length by Species"</span>)
st.pyplot(ax)
 
fig, ax = plt.subplots()
ax = sns.displot(
    x=penguin_df[<span class="hljs-string">"bill_depth_mm"</span>],
    hue=penguin_df[<span class="hljs-string">"species"</span>])
plt.axvline(bill_depth)
plt.title(<span class="hljs-string">"Bill Depth by Species"</span>)
st.pyplot(ax)
 
fig, ax = plt.subplots()
ax = sns.displot(
    x=penguin_df[<span class="hljs-string">"flipper_length_mm"</span>], 
    hue=penguin_df[<span class="hljs-string">"species"</span>])
plt.axvline(flipper_length)
plt.title(<span class="hljs-string">"Flipper Length by Species"</span>)
st.pyplot(ax)
</code></pre>
    <p class="normal">Now that we are in<a id="_idIndexMarker206"/> the correct folder with the right files, we will use the following code to initialize our first repository and to add and then commit all our files to the repository: </p>
    <pre class="programlisting con"><code class="hljs-con">git init
git add .
git commit -m 'our first repo commit'
</code></pre>
    <p class="normal">Our next step is to connect the Git repository from our local device to our GitHub account:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">First, we need to set up a new repository by going back to the GitHub website and clicking the <strong class="screenText">New repository</strong> button, as shown in the following screenshot: </li>
    </ol>
    <figure class="mediaobject"><img alt="Figure 5.1 – Setting up a new repository " src="../Images/B18444_05_01.png"/></figure>
    <p class="packt_figref">Figure 5.1: Setting up a new repository</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="2">We can then fill out<a id="_idIndexMarker207"/> our repository name (<code class="inlineCode">penguin_ml</code>), and click <strong class="screenText">Create repository</strong>. In my case, I already have a repository with this name, hence the GitHub error telling me so, but your example should work cleanly. </li>
    </ol>
    <figure class="mediaobject"><img alt="Figure 5.2 – Repo creation  " src="../Images/B18444_05_02.png"/></figure>
    <p class="packt_figref">Figure 5.2: Repo creation</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="3">Now that we have<a id="_idIndexMarker208"/> a new repository on GitHub, and also have a repository locally, we need to connect the two. The following code connects the two repositories and pushes our code to the GitHub repo; GitHub also suggests how to connect two repositories after you click <strong class="screenText">Create repository</strong>:
        <pre class="programlisting con"><code class="hljs-con">git branch -M main
git remote add origin https://github.com/{insert_username}/penguin_ml.git
git push -u origin main
</code></pre>
      </li>
      <li class="numberedList">We should now see our <code class="inlineCode">penguin_ml</code> files in our GitHub repo! If and when we have new code to push to our repository, we can follow the general format of using <code class="inlineCode">git</code> <code class="inlineCode">add</code><strong class="screenText"> </strong>to add the file changes, <code class="inlineCode">git</code><strong class="screenText"> </strong><code class="inlineCode">commit</code><strong class="screenText"> </strong><code class="inlineCode">–m</code><strong class="screenText"> </strong><code class="inlineCode">"commit message"</code>, and then <a id="_idIndexMarker209"/>finally, <code class="inlineCode">git</code><strong class="screenText"> </strong><code class="inlineCode">push</code> to push the changes to our repository.</li>
    </ol>
    <p class="normal">We can now move on to the deployment process on the Streamlit side. </p>
    <h1 class="heading-1" id="_idParaDest-68">Deploying with Streamlit Community Cloud</h1>
    <p class="normal">Now that all of our <a id="_idIndexMarker210"/>necessary files are in the GitHub repository, we have almost all that we need to deploy our application. You can use the following list of steps to deploy our application:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">When we deploy to Streamlit Community Cloud, Streamlit uses its own servers to host the app. Because of this, we need to explicitly tell Streamlit which Python libraries are required for our app to run. The following code installs a very helpful library called <code class="inlineCode">pipreqs</code> and creates a <code class="inlineCode">requirements.txt</code> file in the format we need for Streamlit:
        <pre class="programlisting con"><code class="hljs-con">pip install pipreqs
pipreqs .
</code></pre>
      </li>
      <li class="numberedList">When we look at our <code class="inlineCode">requirements.txt</code> file, we can see that <code class="inlineCode">pipreqs</code> looked through all of our Python files, checked what we imported and used, and created a file that Streamlit can use to install the exact same versions of our libraries to prevent errors: </li>
    </ol>
    <figure class="mediaobject"><img alt="" role="presentation" src="../Images/B18444_05_03.png"/></figure>
    <p class="packt_figref">Figure 5.3: Requirements.txt</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="3">We have a new file, so we need to also add it to our GitHub repository. The following code<a id="_idIndexMarker211"/> adds <code class="inlineCode">requirements.txt</code> to our repository:
        <pre class="programlisting con"><code class="hljs-con">git add requirements.txt
git commit -m 'add requirements file'
git push
</code></pre>
      </li>
      <li class="numberedList">Now, our last step is to sign up for Streamlit Community Cloud (<a href="http://share.streamlit.io"><span class="url">share.streamlit.io</span></a>) and, once logged in, proceed to click on the <strong class="screenText">New App</strong> button. After that, we can point Streamlit Community Cloud directly to the Python file that hosts our app’s code, which in our case is called <code class="inlineCode">penguins_streamlit.py</code>. You should also change the username from my personal GitHub username (<strong class="screenText">tylerjrichards</strong>) to your own: </li>
    </ol>
    <figure class="mediaobject"><img alt="" role="presentation" src="../Images/B18444_05_04.png"/></figure>
    <p class="packt_figref">Figure 5.4: Deploying from GitHub</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="5">After the app is built, we have a fully deployed Streamlit app. Whenever we make changes to the GitHub repository, we will see such changes reflected in the app. For example, the following code makes a change to the title of our app (for brevity, we<a id="_idIndexMarker212"/> will only show enough code to illustrate the change):
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> streamlit <span class="hljs-keyword">as</span> st
<span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> pickle
st.title(<span class="hljs-string">'Penguin Classifier: A Machine Learning App'</span>)
st.write(<span class="hljs-string">"This app uses 6 inputs to predict the species of penguin using "</span>
         <span class="hljs-string">"a model built on the Palmer Penguins dataset. Use the form below"</span>
         <span class="hljs-string">" to get started!"</span>)
penguin_df = pd.read_csv(<span class="hljs-string">'penguins.csv'</span>)
rf_pickle = <span class="hljs-built_in">open</span>(<span class="hljs-string">'random_forest_penguin.pickle'</span>, <span class="hljs-string">'rb'</span>)
map_pickle = <span class="hljs-built_in">open</span>(<span class="hljs-string">'output_penguin.pickle'</span>, <span class="hljs-string">'rb'</span>)
rfc = pickle.load(rf_pickle)
unique_penguin_mapping = pickle.load(map_pickle)
rf_pickle.close()
map_pickle.close()
</code></pre>
    <p class="normal">Now, to push the change, we need to update our GitHub repository. We will do that by using the following code: </p>
    <pre class="programlisting con"><code class="hljs-con">git add .
git commit -m 'changed our title'
git push
</code></pre>
      </li>
    </ol>
    <p class="normal">When we go back to our app, it will have its own unique URL. If you ever cannot find your Streamlit apps, you <a id="_idIndexMarker213"/>can always find them at <a href="http://share.streamlit.io"><span class="url">share.streamlit.io</span></a>. Now the top of our app should look like the following screenshot:</p>
    <figure class="mediaobject"><img alt="Figure 5.5 – Our deployed Streamlit app " src="../Images/B18444_05_05.png"/></figure>
    <p class="packt_figref">Figure 5.5: Our deployed Streamlit app</p>
    <div class="packt_tip">
      <p class="normal">It may take a couple of minutes for the app to reload! </p>
    </div>
    <p class="normal">Now we have a fully deployed Streamlit app! We can share this link with friends and colleagues or on social media sites such as Twitter/X (if you make an interesting Streamlit app with the help of this book, please tweet it at me <code class="inlineCode">@tylerjrichards</code>; I would love to see it!). Now, let’s learn how to debug our Streamlit apps. The app for this chapter can be found at <a href="https://penguins.streamlit.app/"><span class="url">https://penguins.streamlit.app/</span></a> if you want to compare! Creating and deploying Streamlit apps, and creating and deploying software in general, always has some roadblocks or <a id="_idIndexMarker214"/>errors. Our next section is focused on learning how to debug our development and deployment of apps!</p>
    <h2 class="heading-2" id="_idParaDest-69">Debugging Streamlit Community Cloud</h2>
    <p class="normal">Streamlit Community Cloud <a id="_idIndexMarker215"/>also gives us access to the logs of our apps themselves, which will show up on our terminal if we deploy our apps locally. At the bottom right, whenever we view our own applications, there is a <strong class="screenText">Manage Application</strong> button, which allows us to access our logs. From this menu of options, we can reboot, delete, or download logs from our app, along with viewing our other available apps and logging out from Streamlit. </p>
    <h2 class="heading-2" id="_idParaDest-70">Streamlit Secrets</h2>
    <p class="normal">When creating and<a id="_idIndexMarker216"/> deploying Streamlit apps, you may want to use some information that is not viewable by the user of your app, such as a password or API key. However, the default in Streamlit Community Cloud is to use public GitHub repositories with entirely public code, data, and models. But if, say, you want to use a private API key, as many APIs (for example, Twitter’s scraping API, or the Google Maps API) require, want to programmatically access data stored in a password-protected database, or even want to password-protect your Streamlit app, you need a way to expose a bit of data to Streamlit that is private. Streamlit’s answer to this is Streamlit Secrets, which lets us set hidden and private “secrets” in each app. Let’s start by creating a password to protect our Streamlit applications, specifically, our existing Penguin app.</p>
    <p class="normal">To start out, we can edit the top of our app to require a user to enter a password before the rest of the application loads. We can use the <code class="inlineCode">st.stop()</code> function to stop the app from running if the password is incorrect by using the following code:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> streamlit <span class="hljs-keyword">as</span> st
<span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> pickle
<span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score
<span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestClassifier
<span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split
st.title(<span class="hljs-string">'Penguin Classifier'</span>)
st.write(
    <span class="hljs-string">"""This app uses 6 inputs to predict</span>
<span class="hljs-string">     the species of penguin using a model</span>
<span class="hljs-string">     built on the Palmer Penguins dataset.</span>
<span class="hljs-string">     Use the form below to get started!"""</span>
)
password_guess = st.text_input(<span class="hljs-string">'What is the Password?'</span>)
<span class="hljs-keyword">if</span> password_guess != <span class="hljs-string">'streamlit_password'</span>:
  st.stop()
penguin_file = st.file_uploader(<span class="hljs-string">'Upload your own penguin data'</span>)
</code></pre>
    <p class="normal">This code will result <a id="_idIndexMarker217"/>in the next screenshot, and the rest will only load if the user inputs the <code class="inlineCode">streamlit_password</code> string in the text input box:</p>
    <figure class="mediaobject"><img alt="Figure 5.6 – Password checker " src="../Images/B18444_05_06.png"/></figure>
    <p class="packt_figref">Figure 5.6: Password checker</p>
    <p class="normal">To create a Streamlit Secret, we just need to head over to the Streamlit Community Cloud main page at <a href="https://share.streamlit.io/"><span class="url">https://share.streamlit.io/</span></a> and click the <strong class="screenText">Edit secrets</strong> option, as shown in the next screenshot:</p>
    <figure class="mediaobject"><img alt="Figure 5.7 – Secrets " src="../Images/B18444_05_07.png"/></figure>
    <p class="packt_figref">Figure 5.7: Secrets</p>
    <p class="normal">Once we click on the <strong class="screenText">Edit secrets</strong> button, we <a id="_idIndexMarker218"/>can add new Streamlit Secrets to our app:</p>
    <figure class="mediaobject"><img alt="Figure 5.8 – Our first Streamlit Secret " src="../Images/B18444_05_08.png"/></figure>
    <p class="packt_figref">Figure 5.8: Our first Streamlit Secret</p>
    <p class="normal">Our last step is to read Streamlit Secrets from our deployed app, which we can do by calling <code class="inlineCode">st.secrets</code> and the variable we created in Secrets. The following code replaces our hardcoded password with the Streamlit Secret:</p>
    <pre class="programlisting code"><code class="hljs-code">st.title(<span class="hljs-string">'</span><span class="hljs-string">Penguin Classifier'</span>) 
st.write(
    <span class="hljs-string">"""This app uses 6 inputs to predict</span>
<span class="hljs-string">     the species of penguin using a model</span>
<span class="hljs-string">     built on the Palmer Penguins dataset.</span>
<span class="hljs-string">     Use the form below to get started!"""</span>
)
password_guess = st.text_input(<span class="hljs-string">'What is the Password?'</span>) 
<span class="hljs-keyword">if</span> password_guess != st.secrets[<span class="hljs-string">"password"</span>]: 
    st.stop()
penguin_file = st.file_uploader(<span class="hljs-string">'Upload your own penguin data'</span>)
</code></pre>
    <p class="normal">This code will create the<a id="_idIndexMarker219"/> following Streamlit app, password-protected with the Streamlit Secret that we set:</p>
    <figure class="mediaobject"><img alt="Figure 5.9 – Deployed password " src="../Images/B18444_05_09.png"/></figure>
    <p class="packt_figref">Figure 5.9: Deployed password</p>
    <p class="normal">When we push this code to our GitHub repository and reboot our Streamlit app, we will then have a password-protected Streamlit app deployed on Streamlit Community Cloud! We can use this same<a id="_idIndexMarker220"/> method for private API keys, or any other use case where we need to hide data from the user of the app.</p>
    <h1 class="heading-1" id="_idParaDest-71">Summary</h1>
    <p class="normal">In this chapter, we’ve learned how to get started with Git and GitHub on the command line, how to debug apps on Streamlit Community Cloud, how to use Streamlit Secrets to use private data on public apps, and how to deploy our apps quickly using Streamlit Community Cloud. This completes part one of this book! Congratulations on making it to this point. The next section will use all of part one as a building block for more advanced topics, such as more complicated formatting and beautification of our Streamlit apps and using valuable open-source community-built add-ons called Streamlit Components. </p>
    <p class="normal">In the next chapter, we will cover beautifying Streamlit apps through themes, columns, and many more features.</p>
    <h1 class="heading-1">Learn more on Discord</h1>
    <p class="normal">To join the Discord community for this book – where you can share feedback, ask questions to the author, and learn about new releases – follow the QR code below:</p>
    <p class="normal"><a href="https://packt.link/sl"><span class="url">https://packt.link/sl</span></a></p>
    <p class="normal"><img alt="" role="presentation" src="../Images/QR_Code13440134443835796.png"/></p>
  </div>
</body></html>
- en: Preface
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'This book is a practical guide to data cleaning, broadly defined as all tasks
    necessary to prepare data for analysis. It is organized by the tasks usually completed
    during the data-cleaning process: importing data, viewing data diagnostically,
    identifying outliers and unexpected values, imputing values, tidying data, and
    so on. Each recipe walks the reader from raw data through the completion of a
    specific data-cleaning task.'
  prefs: []
  type: TYPE_NORMAL
- en: There are already a number of very good pandas books. Unsurprisingly, there
    is some overlap between those texts and this one. However, the emphasis here is
    different. I focus as much on the why as on the how in this book.
  prefs: []
  type: TYPE_NORMAL
- en: Since pandas is still relatively new, the lessons I have learned about cleaning
    data have been shaped by my experiences with other tools. Before settling into
    my current work routine with Python and R about 10 years ago, I relied mostly
    on C# and T-SQL in the early 2000s, SAS and Stata in the 90s, and FORTRAN and
    Pascal in the 80s. Most readers of this text probably have experience with a variety
    of data-cleaning and analysis tools. In many ways the specific tool is less significant
    than the data preparation task and the attributes of the data. I would have covered
    pretty much the same topics if I had been asked to write *The SAS Data Cleaning
    Cookbook* or *The R Data Cleaning Cookbook*. I just take a Python/pandas-specific
    approach to the same data-cleaning challenges that analysts have faced for decades.
  prefs: []
  type: TYPE_NORMAL
- en: I start each chapter with how to think about the particular data-cleaning task
    at hand before discussing how to approach it with a tool from the Python ecosystem—pandas,
    NumPy, Matplotlib, and so on. This is reinforced in each recipe by a discussion
    of the implications of what we are uncovering in the data. I try to connect tool
    to purpose. For example, concepts like skewness and kurtosis matter as much for
    handling outliers as does knowing how to update pandas Series values.
  prefs: []
  type: TYPE_NORMAL
- en: New in the Second Edition
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Readers of the first edition will recognize that this book is substantially
    longer than that one. That is partly because there are two new chapters—a chapter
    devoted to treating missing values and another one on pre-processing data for
    predictive analysis. The insufficient coverage of missing values, and the absence
    of coverage of pre-processing data for machine learning applications were important
    omissions. The pre-processing coverage is further improved by new recipes on data
    pipelines in the final chapter that take the reader from raw data to model evaluation.
  prefs: []
  type: TYPE_NORMAL
- en: The recipes in all chapters have been revised. This is to make sure that they
    all work well with the most recent versions of pandas. pandas went from version
    1.5.3 to 2.2.1 during the writing of this book. I have tried to make sure that
    all code works fine on all versions of pandas released from January 2023 through
    February 2024\. Since AI tools are becoming increasingly common in our work, I
    have included discussion of OpenAI tools in four of the chapters. Altogether,
    22 of the 82 recipes are new. All of the datasets used have also been updated.
  prefs: []
  type: TYPE_NORMAL
- en: Who this book is for
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: I had multiple audiences in mind as I wrote this book, but I most consistently
    thought about a dear friend of mine who bought a Transact-SQL book 30 years ago
    and quickly developed great confidence in her database work, ultimately building
    a career around those skills. I would love it if someone just starting their career
    as a data scientist or analyst worked through this book and had a similar experience
    as my friend. More than anything else, I want you to feel good and excited about
    what you can do as a result of reading this book.
  prefs: []
  type: TYPE_NORMAL
- en: I also hope this book will be a useful reference for folks who have been doing
    this kind of work for a while. Here, I imagine someone opening the book and wondering
    to themself, “What’s an approach to handling missing data that maintains the variance
    of my variable?”
  prefs: []
  type: TYPE_NORMAL
- en: In keeping with the hands-on nature of this text, every bit of output is reproducible
    with code in this book. I also stuck to a rule throughout, even when it was challenging.
    Every recipe starts with raw data largely unchanged from the original downloaded
    file. You go from data file to better prepared data in each recipe. If you have
    forgotten how a particular object was created, all you will ever need to do is
    turn back a page or two to see.
  prefs: []
  type: TYPE_NORMAL
- en: Readers who have some knowledge of pandas and NumPy will have an easier time
    with some code blocks, as will folks with some knowledge of Python and introductory
    statistics. None of that is essential though. There are just some recipes you
    might want to pause over longer.
  prefs: []
  type: TYPE_NORMAL
- en: What this book covers
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '*Chapter 1*, *Anticipating Data Cleaning Issues When Importing Tabular Data
    with pandas*, explores tools for loading CSV files, Excel files, relational database
    tables, SAS, SPSS, Stata, and R files into pandas DataFrames.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Chapter 2*, *Anticipating Data Cleaning Issues When Working with HTML, JSON,
    and Spark Data*, discusses techniques for reading and normalizing JSON data, web
    scraping, and working with big data using Spark. It also explores techniques for
    persisting data, including with versioning.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Chapter 3*, *Taking the Measure of Your Data*, introduces common techniques
    for navigating around a DataFrame, selecting columns and rows, and generating
    summary statistics. The use of OpenAI tools for examining dataset structure and
    generating statistics is introduced.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Chapter 4*, *Identifying Outliers in Subsets of Data*, explores a wide range
    of strategies to identify outliers across a whole DataFrame and by selected groups.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Chapter 5*, *Using Visualizations for the Identification of Unexpected Values*,
    demonstrates the use of the Matplotlib and Seaborn tools to visualize how key
    variables are distributed, including with histograms, boxplots, scatter plots,
    line plots, and violin plots.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Chapter 6*, *Cleaning and Exploring Data with Series Operations*, discusses
    updating pandas Series with scalars, arithmetic operations, and conditional statements
    based on the values of one or more Series.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Chapter 7*, *Identifying and Fixing Missing Values*, goes over strategies
    for identifying missing values across rows and columns, and over subsets of data.
    It explores strategies for imputing values, such as setting values to the overall
    mean or the mean for a given category and forward filling. It also examines multivariate
    techniques for imputing values for missing values and discusses when they are
    appropriate.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Chapter 8*, *Encoding, Transforming, and Scaling Features*, covers a range
    of variable transformation techniques to prepare features and targets for predictive
    analysis. This includes the most common kinds of encoding—one-hot, ordinal, and
    hashing encoding; transformations to improve the distribution of variables; and
    binning and scaling approaches to address skewness, kurtosis, and outliers and
    to adjust for features with widely different ranges.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Chapter 9*, *Fixing Messy Data When Aggregating*, demonstrates multiple approaches
    to aggregating data by group, including looping through data with `itertuples`
    or NumPy arrays, dropping duplicate rows, and using pandas’ groupby and pivot
    tables. It also discusses when to choose one approach over the others.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Chapter 10*, *Addressing Data Issues When Combining DataFrames*, examines
    different strategies for concatenating and merging data, and how to anticipate
    common data challenges when combining data.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Chapter 11*, *Tidying and Reshaping Data*, introduces several strategies for
    de-duplicating, stacking, melting, and pivoting data.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Chapter 12*, *Automate Data Cleaning with User-Defined Functions and Classes
    and Pipelines*, examines how to turn many of the techniques from the first 11
    chapters into reuseable code.'
  prefs: []
  type: TYPE_NORMAL
- en: Download the example code files
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The code bundle for the book is hosted on GitHub at [https://github.com/PacktPublishing/Python-Data-Cleaning-Cookbook-Second-Edition](https://github.com/PacktPublishing/Python-Data-Cleaning-Cookbook-Second-Edition).
    We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/).
    Check them out!
  prefs: []
  type: TYPE_NORMAL
- en: Download the color images
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'We also provide a PDF file that has color images of the screenshots/diagrams
    used in this book. You can download it here: [https://packt.link/gbp/9781803239873](https://packt.link/gbp/9781803239873).'
  prefs: []
  type: TYPE_NORMAL
- en: Conventions used
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There are a number of text conventions used throughout this book.
  prefs: []
  type: TYPE_NORMAL
- en: '`Code in text`: Indicates code words in text, database table names, folder
    names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter
    handles. Here is an example: “Mount the downloaded `WebStorm-10*.dmg` disk image
    file as another disk in your system.”'
  prefs: []
  type: TYPE_NORMAL
- en: 'A block of code is set as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'Any output from the code will appear like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '**Bold**: Indicates a new term, an important word, or words that you see onscreen.
    For example, words in menus or dialog boxes appear in the text like this. Here
    is an example: “Select **System info** from the **Administration** panel.”'
  prefs: []
  type: TYPE_NORMAL
- en: Warnings or important notes appear like this.
  prefs: []
  type: TYPE_NORMAL
- en: Tips and tricks appear like this.
  prefs: []
  type: TYPE_NORMAL
- en: Get in touch
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Feedback from our readers is always welcome.
  prefs: []
  type: TYPE_NORMAL
- en: '**General feedback**: Email `feedback@packtpub.com` and mention the book’s
    title in the subject of your message. If you have questions about any aspect of
    this book, please email us at `questions@packtpub.com`.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you reported this to us. Please visit [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    click **Submit Errata**, and fill in the form.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at `copyright@packtpub.com` with a
    link to the material.'
  prefs: []
  type: TYPE_NORMAL
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [http://authors.packtpub.com](http://authors.packtpub.com).'
  prefs: []
  type: TYPE_NORMAL
- en: Share your thoughts
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Once you’ve read *Python Data Cleaning Cookbook, Second Edition*, we’d love
    to hear your thoughts! Please [click here to go straight to the Amazon review
    page](https://packt.link/r/1803239875) for this book and share your feedback.
  prefs: []
  type: TYPE_NORMAL
- en: Your review is important to us and the tech community and will help us make
    sure we’re delivering excellent quality content.
  prefs: []
  type: TYPE_NORMAL
- en: Download a free PDF copy of this book
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Thanks for purchasing this book!
  prefs: []
  type: TYPE_NORMAL
- en: Do you like to read on the go but are unable to carry your print books everywhere?
  prefs: []
  type: TYPE_NORMAL
- en: Is your eBook purchase not compatible with the device of your choice?
  prefs: []
  type: TYPE_NORMAL
- en: Don’t worry, now with every Packt book you get a DRM-free PDF version of that
    book at no cost.
  prefs: []
  type: TYPE_NORMAL
- en: Read anywhere, any place, on any device. Search, copy, and paste code from your
    favorite technical books directly into your application.
  prefs: []
  type: TYPE_NORMAL
- en: The perks don’t stop there, you can get exclusive access to discounts, newsletters,
    and great free content in your inbox daily.
  prefs: []
  type: TYPE_NORMAL
- en: 'Follow these simple steps to get the benefits:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Scan the QR code or visit the link below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/B18596_Free_PDF_QR.png)'
  prefs: []
  type: TYPE_IMG
- en: https://packt.link/free-ebook/9781803239873
  prefs: []
  type: TYPE_NORMAL
- en: Submit your proof of purchase.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: That’s it! We’ll send your free PDF and other benefits to your email directly.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL

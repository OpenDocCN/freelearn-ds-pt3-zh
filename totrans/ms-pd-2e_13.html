<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Making Powerful Reports In Jupyter Using pandas</h1>
                </header>
            
            <article>
                
<p>pandas and Jupyter Notebook can be used to create nicely formatted output, reports, and/or tutorials that are easy to share with a wide range of audiences. In this chapter, we will look into the application of a range of styles and the formatting options that pandas provides. We will also understand how to create dashboards and reports in Jupyter Notebook.</p>
<p>The following topics will be covered in this chapter: </p>
<ul>
<li>pandas styling</li>
<li>Navigating Jupyter Notebook</li>
<li>Making reports using Jupyter Notebooks</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">pandas styling</h1>
                </header>
            
            <article>
                
<p><span>pandas allow for a wide variety of operations to be performed on DataFrames, making it easier to handle structured data. Another intriguing property of DataFrames is that they allow us to format and style regular rows and columns in tabular data. These styling properties help enhance the readability of tabular data. The <kbd>Dataframe.style</kbd> method returns a Styler object. Any formatting to be applied before displaying a DataFrame can be applied over this Styler object. Styling can be done either with in-built functions that have predefined rules for formatting or with user-defined rules.</span></p>
<p>Let's consider the following <span>DataFrames so that we can </span>take a look at pandas' styling properties:</p>
<pre>  df = pd.read_csv("titanic.csv")
  df</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p>The following screenshot shows the preceding DataFrame loaded into Jupyter Notebook:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/1be10ee0-3386-487e-8430-1fb54fc06859.png"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">DataFrame loaded into Jupyter Notebook</div>
<p>Let's see how Jupyter Notebook elements can be styled.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">In-built styling options</h1>
                </header>
            
            <article>
                
<p>pandas has predefined formatting rules written and stored as functions that can be readily used.</p>
<p>The <kbd>highlight_null</kbd> method highlights all NaNs or Null values in the data with a specified color. In the <span>DataFrame </span>under discussion, the Age and Cabin columns have NaNs. Hence, in the following screenshot, the NaNs are flagged in blue in these columns.</p>
<p>The following snippet highlights the NaN values in these columns:</p>
<pre>df.style.highlight_null(null_color = "blue")</pre>
<p class="mce-root"/>
<p>This results in the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1699 image-border" src="assets/79828ff5-6015-4ff5-8c34-58e24455a572.png" style="width:81.83em;height:27.17em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign"><span>Figure </span>9.2: Highlighting Nulls and NANs with blue </div>
<p>The <kbd>highlight_max</kbd> and <kbd>highlight_min</kbd> methods apply highlighting (with a chosen color) to the maximum or minimum value across either axis. In the following example, the minimum values in each column have been highlighted:</p>
<pre> df.iloc[0:10, :].style.highlight_max(axis = 0)<strong><br/></strong></pre>
<p><span>Please note that only columns with the numeric datatype are subject to </span>highlighting<span>.</span></p>
<p>The following screenshot highlights the maximum values for each column:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1700 image-border" src="assets/59106fc6-5ccf-43d0-8049-75cd04f5554c.png" style="width:83.08em;height:25.17em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign"><span>Figure </span>9.3: Highlighting the maximums across rows (among numerical columns) with yellow</div>
<p>In the preceding code, <kbd>highlight_max</kbd> has been used to highlight the maximum values in each <span><span>column</span></span>.</p>
<p class="mce-root"/>
<p>Next, we use the same function to find the maximum for each column, changing the value of the axis parameter while doing so:</p>
<pre>df.style.highlight_max(axis = 1)<strong><br/></strong></pre>
<p>The following screenshot shows the highlighted maximum values across columns: </p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/fd35cad5-d419-4c85-a868-6b32a3d519d6.png"/></p>
<p> </p>
<div class="packt_figref CDPAlignCenter CDPAlign">Highlighting the maximums across columns (among numerical columns) with yellow</div>
<p>Now, let's use the <kbd>highlight_min</kbd> function to highlight the minimum values with a custom-defined color. Both <kbd>highlight_min</kbd> and <kbd>highlight_max</kbd> have the same syntax and accept the same set of parameters:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/a7fa48b2-8435-4b0b-9691-3d3edd99118a.png"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Highlighting the minimums with green</div>
<p>A background color gradient based on conditional formatting can be applied to columns to give a sense of high, medium, and low values based on color. The backgrounds are colored with different colors based on whether they are high, medium, or low.</p>
<p>The background gradient of the table can be controlled through the <kbd>background_gradient()</kbd> styling function. Any existing colormaps or user-defined colormaps can be used as a gradient. Parameters such as <kbd>low</kbd> and <kbd>high</kbd> help us use part of the colormap's color range. Further, the axis and subset parameters can be set to vary the gradient along a certain axis and subset of columns:</p>
<pre>df.style.background_gradient(cmap='plasma', low = 0.25, high = 0.5) </pre>
<p>This results in the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/50db428f-0caa-4d5b-a946-a8b1dae8f7a0.png"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Creating a background color gradient separately for each numerical column based on its high and low values</div>
<p>Styling can also be done independently of values. Let's modify the properties to change the font color, background color, and border color. You can do so by using the following code.</p>
<pre>df.style.set_properties(**{'background-color': 'teal',
                               'color': 'white',
                               'border-color': 'black'})</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p>This results in the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/471a3e34-3b02-40fa-ab92-0f2050399954.png"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Changing the background colour, font color, font type, and font size for an output DataFrame</div>
<p>Styling options also help us control the numerical precision. Consider the following <span>DataFrames:</span></p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/6fc75a21-6488-4134-8371-2ed0460c1cba.png" style="width:25.17em;height:12.08em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">DataFrame numbers without precision rounding off</div>
<p class="mce-root">Take a look at the following code, which sets the precision to 2 decimal places or rounds off a number number to 2 decimal places.</p>
<pre>rand_df.style.set_precision(2)</pre>
<p class="mce-root"/>
<p>This results in the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/1ef02878-46d4-4732-8fcb-44507275df09.png" style="width:16.67em;height:12.08em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">DataFrame numbers with precision rounding off to 2 decimal places</div>
<p>Now, let's set a caption for the preceding <span>DataFrame:</span></p>
<pre>rand_df.style.set_precision(2).set_caption("Styling Dataframe : Precision Control")</pre>
<p>This results in the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/58478994-ac86-4521-96ab-f5b6f99dba99.png" style="width:16.33em;height:13.75em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">DataFrame numbers with precision rounding off to 2 decimal places and a table caption
<p class="mceNonEditable"><span>The</span> <kbd>set_table_styles</kbd> <span>function can also be used to modify the table independently of the data. It accepts a list of</span> <kbd>table_styles</kbd><span>. Each</span> <kbd>table_style</kbd> <span>should be a dictionary consisting of a selector and a property.</span> <kbd>table_styles</kbd> <span>can be used to define custom action-based styles. For example, the following style gives the selected cell the </span><kbd>lawngreen</kbd> <span>background color:</span></p>
</div>
<pre>df.style.set_table_styles([{'selector': 'tr:hover','props': [('background-color', 'lawngreen')]}]</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p>This results in the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/90023e85-3e17-45a0-9dd4-5d13110453d4.png"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">table_style output showing a lawngreen background color for the selected cell</div>
<p>The <kbd>hide_index</kbd> and <kbd>hide_columns</kbd> styling options allow us to hide either the index or specified columns when they're displayed. In the following code, we have hidden the default index column:</p>
<pre>df.style.hide_index()</pre>
<p>The following screenshot shows the output DataFrame, without its index:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/d1979343-58ca-448f-983e-30484ed6d9a9.png"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Hiding the Index column from an output DataFrame</div>
<p>Now, let's use the <kbd>hide_columns</kbd> option to hide the <kbd>"Name"</kbd>, <kbd>"Sex"</kbd>, <kbd>"Ticket"</kbd>, and <kbd>"Cabin"</kbd> columns:</p>
<pre>df.style.hide_columns(["Name", "Sex", "Ticket", "Cabin"])</pre>
<p class="mce-root"/>
<p>The following screenshot displays the columns that are shown after hiding a few columns from a DataFrame:</p>
<p class="mce-root CDPAlignCenter CDPAlign"><img src="assets/8fce9677-2271-48e6-8068-520b9efae092.png" style="width:30.42em;height:19.75em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Hiding a number of columns from an output DataFrame</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">User-defined styling options</h1>
                </header>
            
            <article>
                
<p>Apart from the in-built functions, pandas provides us with the option to write our own functions to be used for styling. Let's write a function to change the background color of negative values to red:</p>
<pre> def color_negative(val): 
    color = 'red' if val &lt; 0 else 'green' 
    return 'background-color: %s' % color</pre>
<p>Such functions can be applied as a styling option through the <kbd>apply()</kbd> and <kbd>applymap</kbd> methods of pandas. The <kbd>applymap</kbd> method applies the function elementwise. The <kbd>apply()</kbd> method can be used to apply styles either row-wise or column-wise by setting the axis parameter to 1 or 0. Setting the axis to None applies the function table-wise. Here, our intended operation is elementwise. Let's use <kbd>applymap</kbd>:</p>
<pre>rand_df.style.applymap(color_negative)</pre>
<p class="mce-root"/>
<p>This results in the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/97739994-ad10-4489-84b8-cd19e7f0271d.png" style="width:24.17em;height:11.75em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Customized conditional formatting based on user-defined styling options for all the columns</div>
<p>The <kbd>apply()</kbd> and <kbd>applymap</kbd> methods also allow us to style a slice of the data. The columns to be styled can be passed through the subset parameter as a list. Let's try to apply the styling to columns 1 and 3:</p>
<pre>rand_df.style.applymap(color_negative, subset = [1, 3])</pre>
<p>This results in the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/88f10a29-0501-41c3-977e-563a989b3b85.png" style="width:23.75em;height:11.00em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">Customized conditional formatting based on user-defined styling options for a subset of columns</div>
<p>This can also be done by passing a suitable label-based indexer. In the following, the styling has been done for columns 1 and 4 on rows 0, 1, and 2:</p>
<pre>rand_df.style.applymap(color_negative, subset=pd.IndexSlice[0:2, [1, 4]])</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p class="mceNonEditable"/>
<p><span>This results in the following output:</span></p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/f0be2ec8-3a5e-41b3-9d3c-2cd9942b155a.png" style="width:24.58em;height:11.75em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Customized conditional formatting based on user-defined styling options for a subset of rows and columns</div>
<p>The <kbd>format()</kbd> function allows the string to be formatted as specified. The following code shows formatting being applied to display restricted digits:</p>
<pre>rand_df.style.format("{:.2f}") </pre>
<p><span>This results in the following output:</span></p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/4e9656a3-98be-4f70-a687-4f009423ea49.png" style="width:16.42em;height:12.58em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Figure 9.17: Applying the same 2-decimal-place digit formatting on all the columns</div>
<p>Separate formats can be applied to different columns, as shown here:</p>
<pre>rand_df.style.format({0: "{:.3%}", 3: '{:.2f}'})</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p class="mceNonEditable"/>
<p>This results in the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/ddb7a3db-81d4-48e6-98e2-be32f7cb2feb.png" style="width:22.50em;height:11.25em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Figure 9.18: Applying different formatting to different columns via a styling dictionary with column indices as keys and formatting options as values</div>
<p>The <kbd>lambda</kbd> function can be used to apply formatting conditions across multiple columns:</p>
<pre>rand_df.style.format(lambda x: "±{:.2f}".format(abs(x))) </pre>
<p><span>This results in the following output:</span></p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/69497d87-4dc6-4fb6-8013-316031cc0417.png" style="width:17.17em;height:11.92em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">Figure 9.19: Applying lambda functions to style several columns at once</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Navigating Jupyter Notebook</h1>
                </header>
            
            <article>
                
<p>Jupyter Notebook, known as <strong>IPython Notebook</strong> previously, is a wonderful tool for reporting. It allows us to integrate regular code with rich styling, formatting, markdown, and special text such as equation plots and live coding. This section will help you understand the essence of a Jupyter Notebook.</p>
<p class="mce-root"/>
<p>Jupyter Notebook can be launched through Anaconda Navigator or from the Terminal using the Jupyter Notebook command. It opens in the browser. The following window opens on startup:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1712 image-border" src="assets/46b86828-a700-41d4-aaf1-f9bf7d6524dd.png" style="width:30.08em;height:22.25em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">Figure 9.20: Startup screen once a Jupyter Notebook loads up</div>
<p>A Jupyter Notebook can be created in any of the folders in the directory. The <span class="packt_screen">New</span> option creates a new notebook, folder, or Terminal. The most interesting feature of this option is that it allows us to shift between multiple Conda environments with ease. For example, both Python 2 and Python 3 environments can be accessed through Jupyter, if installed already. Any notebooks in other directories can be transferred to the current working directory of Jupyter Notebook through the <span class="packt_screen">Upload</span> option.</p>
<p>A notebook consists of a menu bar, a toolbar, and a cell area. A single notebook can comprise of multiple cells:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1713 image-border" src="assets/2c9ccad0-30b9-400b-85fe-e4f53355c974.png" style="width:51.50em;height:10.75em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Figure 9.21: Menu bar and toolbar in Jupyter Notebook</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Exploring the menu bar of Jupyter Notebook</h1>
                </header>
            
            <article>
                
<p>The menu bar provides options that allow us to control the kernel and notebook area. The <span class="packt_screen">File</span> menu helps create new notebooks, open saved notebooks, save checkpoints in the notebook, and revert to a previously saved stable version of a checkpoint. The <span class="packt_screen">Edit</span> menu consists of a range of actions to be performed on entire cells: copying cells, deleting cells, splitting or merging cells, and moving cells up and down. The <span class="packt_screen">View</span> menu can be used to toggle headers, line numbers, and the toolbar, and edit metadata, attachments, and tags. Cells can be inserted above or below existing cells from the <span class="packt_screen">Insert</span> menu. The <span class="packt_screen">Cell</span> menu allows us to run either a single cell or multiple cells together. The Kernel state can be modified through the <span class="packt_screen">Kernel</span> menu. This includes clearing output, restarting the kernel, interrupting the kernel, and shutting down the kernel. Jupyter notebook allows us to create and use widgets. The <span class="packt_screen">Widget</span> menu helps us save, clear, download widget states, and embed widgets in HTML content. The <span class="packt_screen">Help</span> menu offers quick references and shortcuts.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Edit mode and command mode</h1>
                </header>
            
            <article>
                
<p>A Jupyter Notebook can either be in edit mode or command mode. When in edit mode, the contents of a cell can be changed; the cell gets highlighted in green, as shown in the following screenshot: </p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/638c9698-5e1e-4374-b389-58e14bc98023.png" style="width:46.33em;height:5.33em;"/></p>
<div class="packt_figref">                                                                Edit mode of a cell in Jupyter Notebook</div>
<p>You will then notice a pencil icon appear in the top right corner:</p>
<p class="CDPAlignCenter CDPAlign"><img style="font-size: 1em;" src="assets/e15503a8-7a32-4441-a8c4-946056a3f53b.png"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Edit mode of a cell in Jupyter Notebooks</div>
<p>Edit mode can be entered by clicking on a cell or by pressing <em>Enter</em> on the keyboard.</p>
<p class="mce-root"/>
<p>The <em>Esc</em> key helps us switch from edit mode to command mode. This can also be done by clicking anywhere outside a cell. A gray boundary around the cell with a blue margin on the left indicates command mode:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/a0830cc1-e770-42b5-baa4-f1e97705d13e.png" style="width:46.58em;height:5.50em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">Command mode for a cell in Jupyter Notebooks</div>
<p>Command mode allows us to edit the entire notebook, while edit mode serves more like a text editor. The <em>Enter</em> key helps us enter edit mode when we're in command mode. Several keyboard shortcuts are available in edit mode and command mode. Command mode is mapped to a higher number of shortcuts than edit mode:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/512e35c2-7b0a-45ab-92b2-874fd9277d3d.png" style="width:36.25em;height:25.92em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">Keyboard shortcuts in Command mode</div>
<p class="CDPAlignCenter CDPAlign"><img src="assets/934b31b4-5ac1-4865-bc22-dbeaa4d802ae.png" style="width:40.25em;height:20.83em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">Keyboard shortcuts in Command mode <span>–</span> 2</div>
<p class="CDPAlignCenter CDPAlign"><img src="assets/c27f6158-9e73-49a5-858a-26909be799e9.png" style="width:33.92em;height:24.58em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">Keyboard shortcuts in Edit mode</div>
<p>The keyboard shortcuts in the preceding screenshots help us navigate Jupyter Notebook.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Mouse navigation</h1>
                </header>
            
            <article>
                
<p>The most basic action that is involved when navigating <span><span>via </span></span>the mouse is clicking a cell to select and edit it. Further navigation via the mouse is aided by the toolbar options. The different options that are available in the toolbar are as follows:</p>
<ul>
<li><img src="assets/b9915f71-84b7-4114-a1be-ce774f2b298f.png"/><strong>Save and checkpoint</strong>: This option saves changes in Jupyter Notebook and sets up a checkpoint that we can revert to later if we need to.</li>
<li><img src="assets/69765f9d-a8ab-401f-9f67-d67f1c7aa03b.png"/><strong>Inset cell below</strong>: Creates a new cell below the currently selected cell.</li>
<li><img src="assets/724a1821-308d-43eb-ba29-6e1f72370343.png"/><strong>Cut selected cells</strong>: Cuts and deletes selected cells. This action can be undone through the <span class="packt_screen">Edit</span> menu.</li>
<li><img src="assets/739adcc0-a4c0-4e12-b17f-d0f88f0bca6f.png"/><strong>Copy selected cells</strong>: Copies the entire cell's contents with ease.</li>
<li><img src="assets/1937a009-6869-4e07-946a-8f3f12795ed0.png"/><strong>Paste cells below</strong>: Pastes cell contents that were cut or copied earlier.</li>
<li><img src="assets/9d412655-f2a1-44a7-ad38-f50bef5ad4d6.png"/><strong>Move selected cells up/down</strong>: Moves the selected cells above or below the current location. Shifts by one cell at a time.</li>
<li><img src="assets/530b521e-426b-4fbe-90f3-8d4bf3091a39.png"/><strong>Run</strong>: Runs the selected cell to execute code. This is an alternative to <em>Ctrl</em>+<em>Enter</em>.</li>
<li><img src="assets/9ea214e1-b852-494b-83c9-22d9767ebc4b.png"/><strong>Interrupt the kernel</strong>: Cancels the current execution that's in progress.</li>
<li><img src="assets/d73d59e5-f64c-4363-91a1-eceaa0c54302.png"/><strong>Restart the kernel</strong>: Kernel restarts after a popup box prompts a response regarding whether the kernel can be restarted.</li>
<li><img src="assets/156c8e9b-5db3-424e-86f8-5b3e062ba427.png"/><strong>Restart kernel and re-run notebook</strong>: Reruns the entire notebook after restarting the kernel.</li>
<li><img src="assets/f25d2363-ec83-46f4-8464-c17d8b1f35ad.png"/><strong>Code</strong>, <strong>Markdown</strong>, <strong>Raw NBConvert</strong>, <strong>Heading</strong>: Changes the text format of the cell's content.</li>
<li><img src="assets/bbd84fd5-97a2-4b35-8f48-679b6a2717f8.png"/><strong>Open command palette</strong>: Displays the shortcut options that are available.</li>
</ul>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Jupyter Notebook Dashboard</h1>
                </header>
            
            <article>
                
<p>Jupyter offers an interactive reporting ability through Jupyter Dashboard. It allows the creation of widgets to make visualizations more interactive. The dashboard experience transforms code-laden notebooks into an application with a user-friendly interface.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Ipywidgets</h1>
                </header>
            
            <article>
                
<p>Widgets are an integral part of the Jupyter Dashboard. The following section explores <kbd>Ipywidgets </kbd>in greater detail. First, the widgets should be imported from the <kbd>Ipywidgets</kbd> library:</p>
<pre>from ipywidgets import widgets</pre>
<p>The following screenshot shows how a widget for text input is created:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1714 image-border" src="assets/0cb1462f-c6b6-42e5-8e05-c7e7dbfdb76b.png" style="width:25.75em;height:8.42em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">Widget to get a text input</div>
<p>Now, let's print the value that was entered in the widget:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1716 image-border" src="assets/b723b37a-1b88-4b7a-9ea6-cc90665fd000.png" style="width:22.50em;height:14.42em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Figure 9.39: Widget to get a text input with printed output</div>
<p>Using similar methods, other widgets can be created. The following screenshot shows a <span class="packt_screen">Button</span> widget:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1717 image-border" src="assets/5d22065d-abe8-4043-8acd-ff7168e8be9e.png" style="width:20.25em;height:11.25em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Creating a Click button widget</div>
<p>Any widget has two parts: the UI and the event handler. The event handler is usually a Python script that instructs us about the response we should provide to the user input. In the preceding examples, the event handler printed a message based on the user's input.</p>
<p>Unlike the default widgets, <kbd>interact</kbd> is a special kind that chooses the form of the widget based on the user input. In the following screenshot, a single value was provided to the function by the widget. The interactive widget decided to create a slider input:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1718 image-border" src="assets/bf2bab25-f8fa-4bf3-8782-28661b8475df.png" style="width:18.83em;height:9.17em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">Creating a value slider widget</div>
<p>Now, let's change the input to Boolean, that is, True. The widget becomes a checkbox:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1719 image-border" src="assets/ea786b69-2a6f-4e46-af44-3a58fe509f3d.png" style="width:13.92em;height:8.42em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Creating a Boolean selector widget</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Interactive visualizations</h1>
                </header>
            
            <article>
                
<p>The widgets in the preceding example were simple and delivered a <kbd>print</kbd> command. Instead of the <kbd>print</kbd> command, the response could be harnessed through a visualization.</p>
<p>The following is an example where two inputs from two different slider inputs are used to control the axes and inputs to a line plot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1720 image-border" src="assets/1b8c4e4c-3876-41d6-8dfa-2659734c1b5f.png" style="width:25.50em;height:26.58em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">Two slider inputs with a plot reflecting the changes in values</div>
<p>The following is an example of an interactive visualization with a Seaborn plot, where the user can alter the legends and variables that color the plot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1721 image-border" src="assets/f72663eb-b3e8-4889-b49e-76eba26bddad.png" style="width:28.17em;height:25.58em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Drop-down selector widget for choosing the coloring variable</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Writing mathematical equations in Jupyter Notebook</h1>
                </header>
            
            <article>
                
<p>Jupyter Notebook is a comprehensive tool for making powerful reports and tutorials involving complex mathematical expressions and algorithms. This is because Jupyter Notebook provides powerful typesetting features for text formatting and mathematical equation typing. Jupyter Notebook cells with these features are called Markdown cells, as opposed to Code cells, where code is written and executed. Typesetting in Jupyter Notebook is derived from the versatile JavaScript library called <strong>MathJax</strong> used for typing scientific equations in web products. It also supports LaTex syntaxes, in fact, most syntax we are going to discuss.</p>
<p>In this section, we are going to discuss how to write these equations and format text. We will start with a quick walkthrough regarding how to write mathematical equations.</p>
<p class="mce-root"/>
<p>Some high-level guidelines to keep in mind while writing equations in Jupyter Notebook are as follows:</p>
<ul>
<li>Select the cell type as <span class="packt_screen">Markdown</span>, as shown in the following screenshot. It is <kbd>Code</kbd> by default for a new cell.</li>
<li>Enclose the equation between <kbd>$$</kbd>.</li>
<li>Keywords and symbols such as frac (fractions), times (multiplication), leq (less than or equal to), alpha, beta, and others are preceded by a backward slash, <kbd>\</kbd>.</li>
<li>Note that double-clicking on a rendered Markdown cell takes it back to the LaTex/MathJax code snippet:</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="assets/b51329bf-f144-44ff-acdf-97257020a610.png" style="width:32.75em;height:6.83em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">Selecting the cell type as Markdown</div>
<p>With these instructions in mind, let's start learning how to write equations. This section has been written in a cookbook format where we will see the LaTex/MathJax snippet source followed by the output equation.</p>
<p>Simple mathematical operations such as addition, multiplication, division, and so on can be written as follows. <kbd>\times</kbd> and <kbd>\over</kbd> are the keywords for the multiplication and division operators. Note how equations begin and end with <kbd>$$</kbd>:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1724 image-border" src="assets/e4eb555b-491d-4bd9-902c-9739210ff596.png" style="width:16.75em;height:16.08em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output equations for simple mathematical operations</div>
<p>Power and exponential operations can be written as follows. <kbd>^</kbd> is the power or exponential symbol in LaTex syntax:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1725 image-border" src="assets/422336e1-35cd-4779-b668-4442d3f2053f.png" style="width:25.67em;height:18.92em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output equations for power and exponential operations</div>
<p>Often, mathematical equations involve complex fractions. These can be written as follows. The <kbd>\frac</kbd> keyword gives us more flexibility when it comes to writing complex fractions:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1726 image-border" src="assets/094f3823-5029-4ead-b363-0d0fe6fc0862.png" style="width:25.25em;height:13.50em;"/></div>
<div class="CDPAlignCenter packt_figref CDPAlign">LaTex snippet and output equations for fraction operations</div>
<p>Now, let's look at how inequalities can be written. The keywords to note here are <kbd>\geq</kbd> and <kbd>\leq</kbd>, which stand for greater than or equal to and less than or equal to, respectively:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1727 image-border" src="assets/b9a6451c-311b-4e16-bf8c-2d7ee40a600d.png" style="width:19.83em;height:15.42em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">LaTex snippet and output equations for inequalities</div>
<p>Greek letters and symbols are heavily used in mathematical equations and expressions. Here, we have provided a glossary of symbols and the instructions we can use to write them. Notice how superscripts can be written by preceding them with <kbd>_</kbd>, that is, an underscore:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/d5cb81ff-eebb-4250-88bc-7ca40cdcfeb2.png"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output equations for symbols and indices</div>
<p>Roots and logs are important components of mathematical equations. Let's look at how we can write them. <kbd>\sqrt</kbd> is the main keyword for roots and provides two parameters—the root type, that is, 2<sup>nd</sup> root, 3<sup>rd</sup> root, or 4<sup>th</sup> root, and the expression or the number on which the root is to be applied. For log, the base is preceded by <kbd>_</kbd>, that is, an underscore:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1728 image-border" src="assets/a485689e-7b76-409e-91b4-452576b25635.png" style="width:26.17em;height:19.50em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output equations for roots and logs</div>
<p>Often, we have to deal with summations and products across elements of data vectors. Let's look at how to write these. <kbd>\sum</kbd> and <kbd>\prod</kbd> are the main keywords and have a <kbd>\limit</kbd> attribute which takes inputs for the lower and upper bounds for the summation or product:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1729 image-border" src="assets/1233a7e4-9aba-4865-aba7-9be6452c6935.png" style="width:25.75em;height:16.50em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output equations for summations and products</div>
<p>Combinations and statistics have their own set of symbols. Let's look at how to write them. <kbd>\choose</kbd> is the keyword for combinations:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1730 image-border" src="assets/46bdd34a-4a4a-491f-90ca-5634aaec1197.png" style="width:26.17em;height:13.42em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">LaTex snippet and output equations for probability and statistics</div>
<p>Calculus is a vast field and is the source of many mathematical expressions and equations for many data science algorithms. <kbd>\lim</kbd> is the keyword we use to write limit expressions and supplies the <kbd>\limits</kbd> and <kbd>\to</kbd> parameter keywords to provide a variable tending to a value. The <kbd>\partial</kbd> keyword is used to write partial derivatives, while the <kbd>\frac</kbd> keyword is used to write normal derivatives. <kbd>\int</kbd> is used for writing integrals. It comes with the <kbd>\limits</kbd> parameter, which provides the lower and upper bounds of the integer:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1731 image-border" src="assets/5541e808-d580-426d-b0a2-4a422aa00a13.png" style="width:21.75em;height:20.67em;"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output equations for calculus</div>
<p>Linear algebra is used extensively in data science algorithms and we deal with a lot of matrices in linear algebra. Let's look at how we can write matrices. <kbd>\matrix</kbd> is the main keyword we use to write a matrix. Elements are written row-wise; those in the same row are separated by <kbd>&amp;</kbd>, while a new row is marked by a line break symbol, that is, <kbd>//</kbd>:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1733 image-border" src="assets/e41e7fe0-270d-4edb-bae1-04ddb9f06f1d.png" style="width:107.92em;height:45.50em;"/></p>
<div class="CDPAlignCenter packt_figref CDPAlign">LaTex snippet and output equations for matrices</div>
<p>It is also common to encounter functions that have different definitions across a different range of variable(s). Let's learn how to write these function definitions. The following is a high-level overview of the keywords and elements that are needed to write such definitions.</p>
<p>The following are the new formatting options that are used in multi-period functions:</p>
<ul>
<li><strong>Large Curly Bracket</strong>: Uses the <kbd>\left</kbd> and <kbd>\right</kbd> keywords to denote the and the end respectively of an equation.</li>
<li><strong>Equation Array Alignment</strong>: <kbd>begin{}</kbd>, <kbd>end{}</kbd>.</li>
<li><strong>Line Breaker</strong>: Uses the <kbd>\</kbd> symbol to take the text to the next line.</li>
<li><strong>Text Alignment Box</strong>: Uses <kbd>\mbox{text}</kbd> to align text.</li>
</ul>
<p>They can be used as follows:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1734 image-border" src="assets/ed3f8605-7966-4fd3-89a8-1121d207e3a3.png" style="width:50.08em;height:27.58em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output equations for multi-period functions</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Formatting text in Jupyter Notebook</h1>
                </header>
            
            <article>
                
<p>Markdown cells come with a lot of options for formatting text. In this section, we will go through these options one by one.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Headers</h1>
                </header>
            
            <article>
                
<p>Text can be specified as a header by preceding any text with <kbd>#</kbd> in a markdown cell. One # means Header 1, two # means Header 2, and so on. This shown in the following screenshot. We follow the same format as the LaTex snippet source, followed by the output formatted text:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1736 image-border" src="assets/4ab51777-f07b-412d-a795-8ad01e2d63f1.png" style="width:6.92em;height:16.50em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output formatted text for headers</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Bold and italics</h1>
                </header>
            
            <article>
                
<p>To format text as bold, enclose it within <kbd>**</kbd>, for example, <kbd>**&lt;text&gt;**</kbd>.</p>
<p>To format text as italics, enclose it within <kbd>*</kbd>, for example, <kbd>*&lt;text&gt;*</kbd>:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1737 image-border" src="assets/d4ca8107-6ef4-4052-9a76-ddc6b7038dc9.png" style="width:10.08em;height:5.25em;"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref"> LaTex snippet and output formatted text for bold and italics formatting</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Alignment</h1>
                </header>
            
            <article>
                
<p><span><span>T</span></span>ext can be centrally aligned by using an HTML-like <kbd>&lt;center&gt;</kbd> tag, as follows:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1738 image-border" src="assets/7bd292ad-2d47-4543-9e76-db4a83a59ce9.png" style="width:23.92em;height:5.33em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output formatted text for alignment</div>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Font color</h1>
                </header>
            
            <article>
                
<p>The font color for text can be specified as follows. It has to be written inside another HTML-like <kbd>&lt;font&gt;</kbd> tag:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1739 image-border" src="assets/0e19917d-bdc8-487f-99c0-fe981a60ab26.png" style="width:13.33em;height:4.42em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output formatted text for font color</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Bulleted lists</h1>
                </header>
            
            <article>
                
<p>Bullet lists can be created by preceding a list item by an asterisk, <kbd>*</kbd>, and a space. The list can be nested as well, as shown in the following screenshot: </p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1756 image-border" src="assets/137102ce-3518-4e66-96f7-3897669bed00.png" style="width:11.50em;height:28.67em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output formatted text for bulleted lists</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Tables</h1>
                </header>
            
            <article>
                
<p>Tables can be created by using a combination of <kbd>|</kbd>, spaces, <kbd>---</kbd>, and <kbd>:</kbd>. They are as follows:</p>
<ul>
<li><strong>|:</strong> Used as a column separator.</li>
<li><strong>Spaces</strong>: For padding and aligning columns and rows.</li>
<li><strong>---</strong>: For creating a solid horizontal line.</li>
<li><strong>:</strong>: For text alignment in a cell. If it appears at the beginning, then the text is left-aligned:</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1740 image-border" src="assets/4adead56-9d35-430f-aa84-fa3267c1cbf2.png" style="width:37.08em;height:10.00em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output formatted text for tables</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Tables</h1>
                </header>
            
            <article>
                
<p>Horizontal lines are used to separate sections from one another. <kbd>***</kbd> results in a normal horizontal line while <kbd>- - -</kbd> provides a solid horizontal line:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/6966c0e1-2ec2-44e4-ba36-84145bf60a96.png"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output formatted text for tables</div>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">HTML</h1>
                </header>
            
            <article>
                
<p>Markdown cells can be used to render code as well, as shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1741 image-border" src="assets/a3576163-629e-4af8-ae7b-a87c7debfeb8.png" style="width:24.17em;height:11.42em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output formatted text for HTML</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Citation</h1>
                </header>
            
            <article>
                
<p>Quotes and excerpts need to be cited in reports on many occasions. This is done by starting each line of the text with <kbd>&gt;</kbd>. This results in indented text and a citation at the end:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1742 image-border" src="assets/0e344b9b-947d-40a7-b60f-b623fd7940a7.png" style="width:112.83em;height:61.25em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output formatted text for citation and indented text</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Miscellaneous operations in Jupyter Notebook</h1>
                </header>
            
            <article>
                
<p>Apart from text formatting and equations, some miscellaneous operations such as loading an image, writing a cell to a Python file, and other  are needed to make effective reports. In this section, we will look at these operations and learn how to use them.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Loading an image</h1>
                </header>
            
            <article>
                
<p>Most popular image formats, such as <kbd>.viz</kbd>, <kbd>.jpg</kbd>, <kbd>.png</kbd>, <kbd>.gif</kbd>, and so on, can be loaded into Jupyter Notebooks to better illustrate reports. A <kbd>.gif</kbd> can even be loaded and shown as an animation.</p>
<p>These image files need to be kept in the current working directory. The current working directory can be found by running <kbd>os.getcwd( )</kbd> in a code block in the notebook. Images to be loaded should be kept in this directory. The working directory can be changed by using <kbd>os.chdir</kbd> (the directory path). Note that these commands assume that <kbd>import os</kbd> has already been run. The following code is used to show a <kbd>.jpg</kbd> image, as well as its output:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1743 image-border" src="assets/8540d50a-0945-4008-9c52-381fb9c82a9d.png" style="width:56.83em;height:17.92em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output .jpg image</div>
<p>The following code is used to show a <kbd>.gif</kbd> image, as well as its output:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/856b274f-3c3a-4b81-83b1-997d68461bd3.png"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output .gif image</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Hyperlinks</h1>
                </header>
            
            <article>
                
<p>Hyperlinking is frequently used to navigate users to relevant resources such as input data, algorithm explanations, further readings, videos, and more. The syntax to do this is quite simple:</p>
<pre>![Text to appear](URL to navigate to)</pre>
<p>This results in the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1744 image-border" src="assets/db9317ef-78d5-4be1-9da4-241b53ecbd30.png" style="width:113.58em;height:20.83em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">LaTex snippet and output hyperlinks</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Writing to a Python file</h1>
                </header>
            
            <article>
                
<p>The contents of a code cell(s) can be written to a Python file. This is quite helpful while taking code from prototyping in Jupyter Notebook to production environments in Python files. These files are written to the current working directory:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1745 image-border" src="assets/f512335f-e1d4-4239-a2f2-fab7db63298e.png" style="width:20.83em;height:13.25em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Figure 9.69: LaTex snippet for writing a code cell to a Python file</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Running a Python file</h1>
                </header>
            
            <article>
                
<p>External Python files can be run directly from within Jupyter Notebooks. This can be used to load functions and classes that have been saved in Python files so that they can be used later in the notebook. They can also be used to run Python files without having to use the command prompt and so that we can see the output quickly. Again, these Python files need to be present in the current working directory:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1746 image-border" src="assets/e946910b-126e-45d9-a992-5c7d09df27b8.png" style="width:11.58em;height:8.75em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output after running a Python file from a cell in Jupyter Notebook</div>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Loading a Python file</h1>
                </header>
            
            <article>
                
<p>The contents of a Python file can be loaded into a notebook cell. This is done to edit, modify, and test code from the interactive notebook environment:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1747 image-border" src="assets/10949765-9e04-4be6-b261-a69b86717fb9.png" style="width:19.58em;height:13.83em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output after loading a Python file from a cell in Jupyter Notebook</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Internal Links</h1>
                </header>
            
            <article>
                
<p>Internal (hyper)links can be created to navigate to different sections of a notebook from a context summary index. Clicking on the items in the index takes you to a specific section once the internal linking has been done.</p>
<p>Making internal links work in a Jupyter Notebook consists of two steps:</p>
<ol>
<li>Create an ID or identifier for a section:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1748 image-border" src="assets/d234fa45-662c-4d98-bbb7-6408a40dd8c6.png" style="width:15.42em;height:5.08em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">LaTex snippet to create an ID identifier for a section</div>
<p style="padding-left: 60px">The ID for a section is provided in the <kbd>&lt;a&gt;</kbd> tag. In this case, <kbd>Simple_Operations</kbd> is the ID for the Simple Operations section. This ID would be used to refer to this section in the second step while creating the link.</p>
<p class="mce-root"/>
<p style="padding-left: 60px">On running the two preceding cells, the following is provided as output. The first cell containing the ID definition becomes invisible. <span><span>Make sure</span></span> this cell has been run before clicking on the hyperlink. If it has not been run, the link will not work. Another important point to note is that this ID definition needs to happen just before we create the section header:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1749 image-border" src="assets/3b252a24-1fae-4d28-bf58-5bd2fdac0607.png" style="width:7.42em;height:1.58em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Output of the LaTex snippet creating an ID identifier for a section</div>
<ol start="2">
<li>Use this ID to create an internal link.</li>
</ol>
<p style="padding-left: 60px">The syntax for creating an internal link is as follows: </p>
<pre style="padding-left: 60px">[Text to Appear](#Section ID)</pre>
<p style="padding-left: 60px">For example, for the <span class="packt_screen">Simple Operations</span> section, we need to do the following: </p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1750 image-border" src="assets/e9bad13e-d061-4096-aef0-b680ea2f199a.png" style="width:24.42em;height:4.75em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet and output after creating an internal link</div>
<p>Note how <span class="packt_screen">Simple Operations</span> now appears as a hyperlink. Clicking on this would take the user to the <span class="packt_screen">Simple Operations</span> section.</p>
<p>Similarly, we can define section IDs for all the other sections:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1751 image-border" src="assets/2a0a62bd-e097-4b17-abdf-5f04c491de7c.png" style="width:16.25em;height:12.75em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet for different section IDs</div>
<p>Please note that the section ID definition should happen immediately before the section header markdown cell to mark the section ID definition cell as the beginning of that section. This has been shown as the bulk definition, just for illustration purposes:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1752 image-border" src="assets/6addddf2-d875-4767-a85c-52fbcb7d4fe3.png" style="width:24.00em;height:12.33em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex snippet for different internal links referring to section IDs</div>
<p>Notice how the <kbd>&lt;br&gt;</kbd> tag has been used at the end of each line. This tag denotes a line break and takes the text that appears after it to the next line:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1754 image-border" src="assets/4cc153db-6ebb-4ee4-a747-e70fe37221f0.png" style="width:10.92em;height:12.17em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">LaTex output for different internal links referring to section IDs</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Sharing Jupyter Notebook reports</h1>
                </header>
            
            <article>
                
<p>Once reports have been created, they need to shared to their audience for consumption. There are several options for sharing these reports. Let's take a look at these options now.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Using NbViewer</h1>
                </header>
            
            <article>
                
<p>NbViewer is an online viewer for <kbd>ipynb</kbd> files. The following steps need to be followed if we wish to use this option to share Jupyter Notebook reports:</p>
<ol>
<li>Save the report as an <kbd>ipynb</kbd> file.</li>
<li>Upload the <kbd>ipynb</kbd> file to GitHub and get the URL for this file.</li>
<li>Paste the URL from <em>Step 2</em> into NbViewer. NbViewer can be accessed from <span class="MsoHyperlink"><a href="http://www.nbviewer.jupyter.org">www.nbviewer.jupyter.org</a>.</span></li>
<li>Use this GitHub URL where we shared the Notebook that we used in this chapter:   <span class="MsoHyperlink"><a href="https://github.com/ashishbt08b004/Experiments/blob/master/writing_equations_in_jupyter.ipynb">https://github.com/ashishbt08b004/Experiments/blob/master/writing_equations_in_jupyter.ipynb</a>.<br/></span></li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Using the browser</h1>
                </header>
            
            <article>
                
<p>Reports can also be saved as HTML files. These HTML files can be viewed directly in any normal browser by double-clicking them and choosing a browser as the default program for HTML files. One such example file can be obtained at this link.<span class="MsoHyperlink"><br/>
<a href="https://github.com/ashishbt08b004/Experiments/blob/master/writing_equations_in_jupyter.html">https://github.com/ashishbt08b004/Experiments/blob/master/writing_equations_in_jupyter.html</a>.<a href="https://github.com/ashishbt08b004/Experiments/blob/master/writing_equations_in_jupyter.html"><br/></a></span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Using Jupyter Hub</h1>
                </header>
            
            <article>
                
<p>Jupyter Hub is a Python program that can be used to deploy and share Jupyter Notebook reports to multiple users. It can be thought of as a multi-user version of the normal Jupyter Notebook and is accessible through URLs; it is frequently used by companies, research groups, and course instructors to share their experiments and knowledge with a large group in an interactive environment.</p>
<p>This works on Linux machines and is mostly deployed on a machine with huge computing power. This can be either a cloud or on-premise machine.</p>
<p>Four subsystems make up JupyterHub:</p>
<ul>
<li>A <strong>Hub</strong> (tornado process), which is the heart of JupyterHub.</li>
<li>A <strong>configurable http proxy</strong> (node-http-proxy) that receives requests from the client's browser.</li>
<li>Multiple <strong>single-user Jupyter notebook servers</strong> (Python/IPython/tornado) that are monitored by spawners.</li>
<li>An <strong>authentication class</strong> that manages how users can access the system:</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1755 image-border" src="assets/9e4f694b-6a47-4307-a950-52fb10cea86b.png" style="width:39.58em;height:26.75em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">Jupyter Hub architecture</div>
<p>There are a few prerequisites for installing Jupyter Hub:</p>
<ul>
<li>A Linux machine (cloud or on-premise)</li>
<li>Python 3.5+</li>
<li>Nodejs/npm</li>
<li>TLS certificate and the key for HTTPS communication</li>
<li>Domain name for the machine/server</li>
</ul>
<p>Jupyter Hub gives a server-client kind of multi-user environment where data and <kbd>ipynb</kbd> files can be shared with multiple users. It provides multiple robust features for security and login authentication.</p>
<p>The following guides can be followed for the installation and deployment of a notebook report for multiple users: <span class="MsoHyperlink"><a href="https://tljh.jupyter.org/en/latest/">https://tljh.jupyter.org/en/latest/</a></span><a href="https://tljh.jupyter.org/en/latest/">.</a></p>
<p><a href="https://tljh.jupyter.org/en/latest/"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>This chapter focused on three main themes: styling and result formatting options in pandas, creating interactive dashboards in Jupyter Notebook, and exploring formatting and typesetting options in Jupyter Notebook to create powerful reports.</p>
<p>Output formatting such as conditional formatting, bold and italics output, highlighting certain sections, and so on can be done by styling options in pandas. Basic interactive dashboards can be created in Jupyter Notebook. LaTex, and MathJax and provide powerful typesetting and markdown options for writing equations and formatting text. Reports can be shared as <kbd>ipynb</kbd> files on GitHub, and can be viewed in an online viewer called <strong>NbViewer</strong>. Jupyter Hub is the multi-user server-based deployment method.</p>
<p>In the next chapter, we will look at how pandas can be used to perform statistical calculations using packages; we will also perform calculations from scratch.</p>


            </article>

            
        </section>
    </body></html>
<html><head></head><body>
  <div id="_idContainer006">
    <h1 id="_idParaDest-6" class="mainHeading">Preface</h1>
    <p class="normal">pandas is a library for creating and manipulating structured data with Python. What do I mean by structured? I mean tabular data in rows and columns like what you would find in a spreadsheet or database. Data scientists, analysts, programmers, engineers, and others are leveraging it to mold their data.</p>
    <p class="normal">pandas is limited to “small data” (data that can fit in memory on a single machine). However, the syntax and operations have been adopted by or inspired other projects: PySpark, Dask, and cuDF, among others. These projects have different goals, but some of them will scale out to big data. So, there is value in understanding how pandas works as the features are becoming the de facto API for interacting with structured data.</p>
    <p class="normal">I, Will Ayd, have been a core maintainer of the pandas library since 2018. During that time, I have had the pleasure of contributing to and collaborating on a host of other open source projects in the same ecosystem, including but not limited to Arrow, NumPy and Cython.</p>
    <p class="normal">I also consult for a living, utilizing the same ecosystem that I contribute to. Using the best open source tooling, I help clients develop data strategies, implement processes and patterns, and train associates to stay ahead of the ever-changing analytics curve. I strongly believe in the freedom that open source tooling provides, and have proven that value to many companies.</p>
    <p class="normal">If your company is interested in optimizing your data strategy, feel free to reach out (<code class="inlineCode">will_ayd@innobi.io</code>).</p>
    <h1 id="_idParaDest-7" class="heading-1">Who this book is for</h1>
    <p class="normal">This book contains a huge number of recipes, ranging from very simple to advanced. All recipes strive to be written in clear, concise, and modern idiomatic pandas code. The <em class="italic">How it works</em> sections contain extremely detailed descriptions of the intricacies of each step of the recipe. Often, in the <em class="italic">There’s more…</em> section, you will get what may seem like an entirely new recipe. This book is densely packed with an extraordinary amount of pandas code.</p>
    <p class="normal">While not strictly required, users are advised to read the book chronologically. The recipes are structured in such a way that they first introduce concepts and features using very small, directed examples, but continuously build from there into more complex applications.</p>
    <p class="normal">Due to the wide range of complexity, this book can be useful to both novice and everyday users alike. It has been my experience that even those who use pandas regularly will not master it without being exposed to idiomatic pandas code. This is somewhat fostered by the breadth that pandas offers. There are almost always multiple ways of completing the same operation, which can have users get the result they want but in a very inefficient manner. It is not uncommon to see an order of magnitude or more in performance difference between two sets of pandas solutions to the same problem.</p>
    <p class="normal">The only real prerequisite for this book is a fundamental knowledge of Python. It is assumed that the reader is familiar with all the common built-in data containers in Python, such as lists, sets, dictionaries, and tuples.</p>
    <h1 id="_idParaDest-8" class="heading-1">What this book covers</h1>
    <p class="normal"><em class="chapterRef">Chapter 1</em>, <em class="italic">pandas Foundations</em>, introduces the main pandas objects, namely, <code class="inlineCode">Series</code>, DataFrames, and <code class="inlineCode">Index</code>.</p>
    <p class="normal"><em class="chapterRef">Chapter 2</em>, <em class="italic">Selection and Assignment</em>, shows you how to sift through the data that you have loaded into any of the pandas data structures.</p>
    <p class="normal"><em class="chapterRef">Chapter 3</em>, <em class="italic">Data Types</em>, explores the type system underlying pandas. This is an area that has evolved rapidly and will continue to do so, so knowing the types and what distinguishes them is invaluable information.</p>
    <p class="normal"><em class="chapterRef">Chapter 4</em>, <em class="italic">The pandas I/O System</em>, shows why pandas has long been a popular tool to read from and write to a variety of storage formats.</p>
    <p class="normal"><em class="chapterRef">Chapter 5</em>, <em class="italic">Algorithms and How to Apply Them</em>, introduces you to the foundation of performing calculations with the pandas data structures.</p>
    <p class="normal"><em class="chapterRef">Chapter 6</em>, <em class="italic">Visualization</em>, shows you how pandas can be used directly for plotting, alongside the seaborn library which integrates well with pandas.</p>
    <p class="normal"><em class="chapterRef">Chapter 7</em>, <em class="italic">Reshaping DataFrames</em>, discusses the many ways in which data can be transformed and summarized robustly via the pandas <code class="inlineCode">pd.DataFrame</code>.</p>
    <p class="normal"><em class="chapterRef">Chapter 8</em>, <em class="italic">Group By</em>, showcases how to segment and summarize subsets of your data contained within a <code class="inlineCode">pd.DataFrame</code>.</p>
    <p class="normal"><em class="chapterRef">Chapter 9</em>, <em class="italic">Temporal Data Types and Algorithms</em>, introduces users to the date/time types which underlie time-series-based analyses that pandas is famous for and highlights usage against real data.</p>
    <p class="normal"><em class="chapterRef">Chapter 10</em>, <em class="italic">General Usage/Performance Tips</em>, goes over common pitfalls users run into when using pandas, and showcases the idiomatic solutions.</p>
    <p class="normal"><em class="chapterRef">Chapter 11</em>, <em class="italic">The pandas Ecosystem</em>, discusses other open source libraries that integrate, extend, and/or complement pandas.</p>
    <h1 id="_idParaDest-9" class="heading-1">To get the most out of this book</h1>
    <p class="normal">There are a couple of things you can do to get the most out of this book. First, and most importantly, you should download all the code, which is stored in Jupyter Notebook. While reading through each recipe, run each step of code in the notebook. Make sure you explore on your own as you run through the code. Second, have the pandas official documentation open (<a href="http://pandas.pydata.org/pandas-docs/stable/"><span class="url">http://pandas.pydata.org/pandas-docs/stable/</span></a>) in one of your browser tabs. The pandas documentation is an excellent resource containing over 1,000 pages of material. There are examples for most of the pandas operations in the documentation, and they will often be directly linked from the <em class="italic">See also</em> section. While it covers the basics of most operations, it does so with trivial examples and fake data that don’t reflect situations that you are likely to encounter when analyzing datasets from the real world.</p>
    <h2 id="_idParaDest-10" class="heading-2">What you need for this book</h2>
    <p class="normal">pandas is a third-party package for the Python programming language and, as of the printing of this book, is transitioning from the 2.x to the 3.x series. The examples in this book should work with a minimum pandas version of 2.0 along with Python versions 3.9 and above.</p>
    <p class="normal">The code in this book will make use of the pandas, NumPy, and PyArrow libraries. Jupyter Notebook files are also a popular way to visualize and inspect code. All of these libraries should be installable via <code class="inlineCode">pip</code> or the package manager of your choice. For pip users, you can run:</p>
    <pre class="programlisting con"><code class="hljs-con"><code class="hljs-con">python -m pip install pandas numpy pyarrow notebook
</code></code></pre>
    <h2 id="_idParaDest-11" class="heading-2">Download the example code files</h2>
    <p class="normal">You can download the example code files for this book from your account at <a href="https://www.packt.com"><span class="url">www.packt.com</span></a>. If you purchased this book elsewhere, you can visit <a href="https://www.packtpub.com/support/errata"><span class="url">www.packtpub.com/support/errata</span></a> and register to have the files emailed directly to you.</p>
    <p class="normal">You can download the code files by following these steps:</p>
    <ol>
      <li class="numberedList" value="1">Log in or register at <a href="https://www.packt.com"><span class="url">www.packt.com</span></a>.</li>
      <li class="numberedList">Select the <strong class="screenText">Support</strong> tab.</li>
      <li class="numberedList">Click on <strong class="screenText">Code Downloads</strong>.</li>
      <li class="numberedList">Enter the name of the book in the <strong class="screenText">Search</strong> box and follow the on-screen instructions.</li>
    </ol>
    <p class="normal">The code bundle for the book is also hosted on GitHub at <a href="https://github.com/WillAyd/Pandas-Cookbook-Third-Edition"><span class="url">https://github.com/WillAyd/Pandas-Cookbook-Third-Edition</span></a>. In case there is an update to the code, it will be updated in the existing GitHub repository.</p>
    <h2 id="_idParaDest-12" class="heading-2">Running a Jupyter notebook</h2>
    <p class="normal">The suggested method to work through the content of this book is to have a Jupyter notebook up and running so that you can run the code while reading through the recipes. Following along on your computer allows you to go off exploring on your own and gain a deeper understanding than by just reading the book alone.</p>
    <p class="normal">After installing Jupyter notebook, open a Command Prompt (type <code class="inlineCode">cmd</code> at the search bar on Windows, or open Terminal on Mac or Linux) and type:</p>
    <pre class="programlisting con"><code class="hljs-con"><code class="hljs-con">jupyter notebook
</code></code></pre>
    <p class="normal">It is not necessary to run this command from your home directory. You can run it from any location, and the contents in the browser will reflect that location. Although we have now started the Jupyter Notebook program, we haven’t actually launched a single individual notebook where we can start developing in Python. To do so, you can click on the <strong class="screenText">New</strong> button on the right-hand side of the page, which will drop down a list of all the possible kernels available for you to use. If you are working from a fresh installation, then you will only have a single kernel available to you (Python 3). After selecting the Python 3 kernel, a new tab will open in the browser, where you can start writing Python code.</p>
    <p class="normal">You can, of course, open previously created notebooks instead of beginning a new one. To do so, navigate through the filesystem provided in the Jupyter Notebook browser home page and select the notebook you want to open. All Jupyter Notebook files end in <code class="inlineCode">.ipynb</code>.</p>
    <p class="normal">Alternatively, you may use cloud providers for a notebook environment. Both Google and Microsoft provide free notebook environments that come preloaded with pandas.</p>
    <h2 id="_idParaDest-13" class="heading-2">Download the color images</h2>
    <p class="normal">We also provide a PDF file that has color images of the screenshots/diagrams used in this book. You can download it here: <a href="https://packt.link/gbp/9781836205876"><span class="url">https://packt.link/gbp/9781836205876</span></a>.</p>
    <h2 id="_idParaDest-14" class="heading-2">Conventions</h2>
    <p class="normal">There are a number of text conventions used throughout this book.</p>
    <p class="normal"><code class="inlineCode">CodeInText</code>: Indicates code words in text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter/X handles. Here is an example: “You may need to install <code class="inlineCode">xlwt</code> or <code class="inlineCode">openpyxl</code> to write XLS or XLSX files, respectively.”</p>
    <p class="normal">A block of code is set as follows:</p>
    <pre class="programlisting code"><code class="hljs-code"><code class="hljs-code"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
movies = pd.read_csv("data/movie.csv")
movies
</code></code></pre>
    <p class="normal"><strong class="screenText">Bold</strong>: Indicates an important word, or words that you see on the screen. Here is an example: “<strong class="screenText">Select System info</strong> from the <strong class="screenText">Administration</strong> panel.”</p>
    <p class="normal"><em class="italic">Italics</em>: Indicates <em class="italic">terminology</em> that has extra importance within the context of the writing.</p>
    <div class="note">
      <p class="normal"><strong class="keyWord">Important notes</strong></p>
      <p class="normal">Appear like this.</p>
    </div>
    <div class="note">
      <p class="normal"><strong class="keyWord">Tips</strong></p>
      <p class="normal">Appear like this.</p>
    </div>
    <h2 id="_idParaDest-15" class="heading-2">Assumptions for every recipe</h2>
    <p class="normal">It should be assumed that at the beginning of each recipe, pandas, NumPy, PyArrow, and Matplotlib are imported into the namespace:</p>
    <pre class="programlisting code"><code class="hljs-code"><code class="hljs-code"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> pyarrow <span class="hljs-keyword">as</span> pa
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
</code></code></pre>
    <h2 id="_idParaDest-16" class="heading-2">Dataset descriptions</h2>
    <p class="normal">There are about two dozen datasets that are used throughout this book. It can be very helpful to have background information on each dataset as you complete the steps in the recipes. A detailed description of each dataset may be found in the <code class="inlineCode">dataset_descriptions</code> Jupyter Notebook file found at <a href="https://github.com/WillAyd/Pandas-Cookbook-Third-Edition"><span class="url">https://github.com/WillAyd/Pandas-Cookbook-Third-Edition</span></a>. For each dataset, there will be a list of the columns, information about each column, and notes on how the data was procured.</p>
    <h1 id="_idParaDest-17" class="heading-1">Sections</h1>
    <p class="normal">In this book, you will find several headings that appear frequently.</p>
    <p class="normal">To give clear instructions on how to complete a recipe, we may use some or all of the following sections:</p>
    <h2 id="_idParaDest-18" class="heading-2">How to do it</h2>
    <p class="normal">This section contains the steps required to follow the recipe.</p>
    <h2 id="_idParaDest-19" class="heading-2">How it works</h2>
    <p class="normal">This section usually consists of a detailed explanation of what happened in the previous section.</p>
    <h2 id="_idParaDest-20" class="heading-2">There’s more…</h2>
    <p class="normal">This section consists of additional information about the recipe in order to make you more knowledgeable about the recipe.</p>
    <h1 id="_idParaDest-21" class="heading-1">Get in touch</h1>
    <p class="normal">Feedback from our readers is always welcome.</p>
    <p class="normal"><strong class="keyWord">General feedback</strong>: If you have questions about any aspect of this book, mention the book title in the subject of your message and email us at <code class="inlineCode">customercare@packtpub.com</code>.</p>
    <p class="normal"><strong class="keyWord">Errata</strong>: Although we have taken every care to ensure the accuracy of our content, mistakes do happen. If you have found a mistake in this book, we would be grateful if you would report this to us. Please visit, <a href="https://www.packtpub.com/support/errata"><span class="url">www.packtpub.com/support/errata</span></a>, selecting your book, clicking on the <strong class="screenText">Errata Submission Form</strong> link, and entering the details.</p>
    <p class="normal"><strong class="keyWord">Piracy</strong>: If you come across any illegal copies of our works in any form on the internet, we would be grateful if you would provide us with the location address or website name. Please contact us at <code class="inlineCode">copyright@packt.com</code> with a link to the material.</p>
    <p class="normal"><strong class="keyWord">If you are interested in becoming an author</strong>: If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, please visit <a href="https://authors.packtpub.com"><span class="url">authors.packtpub.com</span></a>.</p>
  </div>
  <div id="_idContainer008">
    <h1 id="_idParaDest-22" class="heading-1">Leave a Review!</h1>
    <p class="normal">Thank you for purchasing this book from Packt Publishing—we hope you enjoy it! Your feedback is invaluable and helps us improve and grow. Once you’ve completed reading it, please take a moment to leave an <a href="Preface.xhtml"><span class="url">Amazon review</span></a>; it will only take a minute, but it makes a big difference for readers like you. </p>
    <figure class="mediaobject"><img src="../Images/QR_Code1474021820358918656.png" alt=""/></figure>
    <p class="packt_figref"><a href="Preface.xhtml"><span class="url">https://packt.link/NzOWQ</span></a></p>
    <p class="normal">Scan the QR code below to receive a free ebook of your choice.</p>
  </div>
  <div id="_idContainer010" class="Basic-Text-Frame">
    <p class="eop"/>
    <p class="eop"/>
    <h1 id="_idParaDest-23" class="heading-1">Download a free PDF copy of this book</h1>
    <p class="normal">Thanks for purchasing this book!</p>
    <p class="normal">Do you like to read on the go but are unable to carry your print books everywhere?</p>
    <p class="normal">Is your eBook purchase not compatible with the device of your choice?</p>
    <p class="normal">Don’t worry, now with every Packt book you get a DRM-free PDF version of that book at no cost.</p>
    <p class="normal">Read anywhere, any place, on any device. Search, copy, and paste code from your favorite technical books directly into your application.</p>
    <p class="normal">The perks don’t stop there, you can get exclusive access to discounts, newsletters, and great free content in your inbox daily.</p>
    <p class="normal">Follow these simple steps to get the benefits:</p>
    <ol>
      <li class="numberedList" value="1">Scan the QR code or visit the link below:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B31091_Free_PDF_QR.png" alt=""/></figure>
    <p class="packt_figref"><a href="https://packt.link/free-ebook/9781836205876 "><span class="url">https://packt.link/free-ebook/9781836205876</span></a></p>
    <ol>
      <li class="numberedList" value="2">Submit your proof of purchase.</li>
      <li class="numberedList">That’s it! We’ll send your free PDF and other benefits to your email directly.</li>
    </ol>
  </div>
</body></html>